{"id":"epB2","dependencies":[{"name":"C:\\Users\\user\\Desktop\\bootStrap\\cartSelf2\\package.json","includedInParent":true,"mtime":1631867030358},{"name":"regenerator-runtime/runtime","loc":{"line":1,"column":7},"parent":"C:\\Users\\user\\Desktop\\bootStrap\\cartSelf2\\main.js","resolved":"C:\\Users\\user\\Desktop\\bootStrap\\cartSelf2\\node_modules\\regenerator-runtime\\runtime.js"},{"name":"./node_modules/axios","loc":{"line":2,"column":19},"parent":"C:\\Users\\user\\Desktop\\bootStrap\\cartSelf2\\main.js","resolved":"C:\\Users\\user\\Desktop\\bootStrap\\cartSelf2\\node_modules\\axios\\index.js"}],"generated":{"js":"\"use strict\";require(\"regenerator-runtime/runtime\");var t,e,n,c=r(require(\"./node_modules/axios\"));function r(t){return t&&t.__esModule?t:{default:t}}var a=1,o=document.querySelector(\".navbar-btn\"),i=document.querySelector(\".nav-bar\"),s=document.querySelector(\".product-list\"),l=document.querySelector(\".cart-icon\"),u=document.querySelector(\".cart-container\"),d=document.querySelector(\"#cart-count-info\"),m=document.querySelector(\"#cart-total-value\"),f=document.querySelector(\".cart-list\"),p=c.default.create({baseURL:\"http://127.0.0.1:3300\"});function v(){console.log(t),i.classList.toggle(\"show\"),\"nav-bar show\"===i.className?(document.documentElement.style.overflowY=\"hidden\",i.style=\"z-index:3\"):(document.documentElement.style.overflowY=\"scroll\",i.style=\"z-index:0\")}function g(){u.classList.contains(\"showCartContainer\")?u.className=\"cart-container\":u.className=\"cart-container showCartContainer\",document.addEventListener(\"dblclick\",function(){u.className=\"cart-container\"})}function h(t,e){t.forEach(function(t){t.addEventListener(\"click\",e)})}function y(t){var e=this;\"cart-del-btn\"==t.target.className?this.remove():\"fas fa-times\"==t.target.className&&this.remove();var n=C().filter(function(t){return t.id!==parseInt(e.dataset.id)});localStorage.setItem(\"products\",JSON.stringify(n)),E()}function S(){p.get(\"/furniture.json\").then(function(t){var e=\"\";t.data.forEach(function(t){e+='\\n                 <div class=\"col-md-6  col-xl-4  col-xxl-3 pt-2\">\\n                        <div class=\"card\">\\n                        \\n                        <img src=\"'.concat(t.imgSrc,'\" class=\"card-img-top\" alt=\"...\">\\n                        \\n                        <div class=\"card-body\">\\n                       \\n                        <h4 class=\"card-title\">').concat(t.name,'</h4>\\n                        <p class=\"card-price\">TW$').concat(t.price,'</p>\\n                        \\n                        <button href=\"#\" class=\"btn btn-primary text-white cart-btn\">Add Cart</button>\\n                            </div>\\n                    </div>\\n                    </div>\\n                   ')}),s.innerHTML=e,b()}).catch(function(t){console.log(t),s.parentElement.innerHTML='<h1 style=\"color:red;font-size:2rem; text-align:center\">remember open server</h1>'})}function b(){h(t=document.querySelectorAll(\".cart-btn\"),function(){var t=this.parentElement.parentElement,e={id:a,imgSrc:t.querySelector(\".card-img-top\").src,name:t.querySelector(\".card-title\").textContent,price:t.querySelector(\".card-price\").textContent};a++,q(e),L(e)})}function q(t){(n=document.createElement(\"div\")).classList.add(\"cart-item\"),n.setAttribute(\"data-id\",\"\".concat(t.id)),n.innerHTML='\\n    <img src=\"'.concat(t.imgSrc,'\" alt=\"\" class=\"img-fluid\">\\n    <div class=\"cart-item-info\">\\n        <h3 class=\"cart-item-name\">').concat(t.name,'</h3>\\n        <span class=\"cart-item-price\">').concat(t.price,'</span>\\n    </div>\\n   \\n    <button type = \"button\" class = \"cart-del-btn\">\\n      <i class = \"fas fa-times\"></i>\\n    </button>\\n    '),f.appendChild(n),h(e=document.querySelectorAll(\".cart-item\"),y),console.log(n)}function L(t){var e=C();e.push(t),localStorage.setItem(\"products\",JSON.stringify(e)),E()}function E(){var t=x();d.innerHTML=t.productCount,m.innerHTML=t.total}function C(){return localStorage.getItem(\"products\")?JSON.parse(localStorage.getItem(\"products\")):[]}function x(){var t=C();return{total:t.reduce(function(t,e){return t+parseInt(e.price.substring(3))},0),productCount:t.length}}function w(){var t=C();t.length<1?a=1:(a=t[t.length-1].id,a++),t.forEach(function(t){return q(t)}),E()}window.addEventListener(\"DOMContentLoaded\",function(){S(),w()}),o.addEventListener(\"click\",v),l.addEventListener(\"click\",g);"},"sourceMaps":{"js":{"mappings":[{"source":"main.js","original":{"line":225,"column":1},"generated":{"line":1,"column":0}},{"source":"main.js","original":{"line":1,"column":0},"generated":{"line":1,"column":13}},{"source":"main.js","original":{"line":1,"column":0},"generated":{"line":1,"column":21}},{"source":"main.js","original":{"line":2,"column":0},"generated":{"line":1,"column":52}},{"source":"main.js","name":"addCartBtn","original":{"line":7,"column":6},"generated":{"line":1,"column":56}},{"source":"main.js","name":"relcartItem","original":{"line":8,"column":5},"generated":{"line":1,"column":58}},{"source":"main.js","name":"cartItem","original":{"line":9,"column":5},"generated":{"line":1,"column":60}},{"source":"main.js","original":{"line":2,"column":0},"generated":{"line":1,"column":62}},{"source":"main.js","original":{"line":2,"column":0},"generated":{"line":1,"column":64}},{"source":"main.js","original":{"line":2,"column":0},"generated":{"line":1,"column":66}},{"source":"main.js","original":{"line":2,"column":0},"generated":{"line":1,"column":74}},{"source":"main.js","original":{"line":225,"column":1},"generated":{"line":1,"column":99}},{"source":"main.js","original":{"line":225,"column":1},"generated":{"line":1,"column":108}},{"source":"main.js","original":{"line":225,"column":1},"generated":{"line":1,"column":110}},{"source":"main.js","original":{"line":225,"column":1},"generated":{"line":1,"column":113}},{"source":"main.js","original":{"line":225,"column":1},"generated":{"line":1,"column":120}},{"source":"main.js","original":{"line":225,"column":1},"generated":{"line":1,"column":123}},{"source":"main.js","original":{"line":225,"column":1},"generated":{"line":1,"column":125}},{"source":"main.js","original":{"line":225,"column":1},"generated":{"line":1,"column":136}},{"source":"main.js","original":{"line":225,"column":1},"generated":{"line":1,"column":138}},{"source":"main.js","original":{"line":225,"column":1},"generated":{"line":1,"column":139}},{"source":"main.js","original":{"line":225,"column":1},"generated":{"line":1,"column":147}},{"source":"main.js","original":{"line":10,"column":1},"generated":{"line":1,"column":150}},{"source":"main.js","name":"cartItemID","original":{"line":10,"column":6},"generated":{"line":1,"column":154}},{"source":"main.js","original":{"line":10,"column":17},"generated":{"line":1,"column":156}},{"source":"main.js","name":"navbarBtn","original":{"line":11,"column":7},"generated":{"line":1,"column":158}},{"source":"main.js","name":"document","original":{"line":11,"column":17},"generated":{"line":1,"column":160}},{"source":"main.js","name":"querySelector","original":{"line":11,"column":26},"generated":{"line":1,"column":169}},{"source":"main.js","original":{"line":11,"column":40},"generated":{"line":1,"column":183}},{"source":"main.js","name":"navbar","original":{"line":12,"column":7},"generated":{"line":1,"column":198}},{"source":"main.js","name":"document","original":{"line":12,"column":14},"generated":{"line":1,"column":200}},{"source":"main.js","name":"querySelector","original":{"line":12,"column":23},"generated":{"line":1,"column":209}},{"source":"main.js","original":{"line":12,"column":37},"generated":{"line":1,"column":223}},{"source":"main.js","name":"productList","original":{"line":13,"column":7},"generated":{"line":1,"column":235}},{"source":"main.js","name":"document","original":{"line":13,"column":19},"generated":{"line":1,"column":237}},{"source":"main.js","name":"querySelector","original":{"line":13,"column":28},"generated":{"line":1,"column":246}},{"source":"main.js","original":{"line":13,"column":42},"generated":{"line":1,"column":260}},{"source":"main.js","name":"cartIcon","original":{"line":14,"column":7},"generated":{"line":1,"column":277}},{"source":"main.js","name":"document","original":{"line":14,"column":16},"generated":{"line":1,"column":279}},{"source":"main.js","name":"querySelector","original":{"line":14,"column":25},"generated":{"line":1,"column":288}},{"source":"main.js","original":{"line":14,"column":39},"generated":{"line":1,"column":302}},{"source":"main.js","name":"cartContainer","original":{"line":15,"column":7},"generated":{"line":1,"column":316}},{"source":"main.js","name":"document","original":{"line":15,"column":21},"generated":{"line":1,"column":318}},{"source":"main.js","name":"querySelector","original":{"line":15,"column":30},"generated":{"line":1,"column":327}},{"source":"main.js","original":{"line":15,"column":44},"generated":{"line":1,"column":341}},{"source":"main.js","name":"cartCountInfo","original":{"line":16,"column":7},"generated":{"line":1,"column":360}},{"source":"main.js","name":"document","original":{"line":16,"column":21},"generated":{"line":1,"column":362}},{"source":"main.js","name":"querySelector","original":{"line":16,"column":30},"generated":{"line":1,"column":371}},{"source":"main.js","original":{"line":16,"column":44},"generated":{"line":1,"column":385}},{"source":"main.js","name":"cartTotalValue","original":{"line":17,"column":7},"generated":{"line":1,"column":405}},{"source":"main.js","name":"document","original":{"line":17,"column":22},"generated":{"line":1,"column":407}},{"source":"main.js","name":"querySelector","original":{"line":17,"column":31},"generated":{"line":1,"column":416}},{"source":"main.js","original":{"line":17,"column":45},"generated":{"line":1,"column":430}},{"source":"main.js","name":"cartList","original":{"line":18,"column":7},"generated":{"line":1,"column":451}},{"source":"main.js","name":"document","original":{"line":18,"column":16},"generated":{"line":1,"column":453}},{"source":"main.js","name":"querySelector","original":{"line":18,"column":25},"generated":{"line":1,"column":462}},{"source":"main.js","original":{"line":18,"column":39},"generated":{"line":1,"column":476}},{"source":"main.js","name":"ax","original":{"line":20,"column":7},"generated":{"line":1,"column":490}},{"source":"main.js","name":"axios","original":{"line":20,"column":12},"generated":{"line":1,"column":492}},{"source":"main.js","name":"create","original":{"line":20,"column":18},"generated":{"line":1,"column":494}},{"source":"main.js","name":"create","original":{"line":20,"column":18},"generated":{"line":1,"column":502}},{"source":"main.js","original":{"line":20,"column":25},"generated":{"line":1,"column":509}},{"source":"main.js","name":"baseURL","original":{"line":21,"column":4},"generated":{"line":1,"column":510}},{"source":"main.js","original":{"line":21,"column":13},"generated":{"line":1,"column":518}},{"source":"main.js","original":{"line":41,"column":0},"generated":{"line":1,"column":544}},{"source":"main.js","name":"navbarToggle","original":{"line":41,"column":9},"generated":{"line":1,"column":553}},{"source":"main.js","name":"console","original":{"line":42,"column":4},"generated":{"line":1,"column":557}},{"source":"main.js","name":"log","original":{"line":42,"column":12},"generated":{"line":1,"column":565}},{"source":"main.js","name":"addCartBtn","original":{"line":42,"column":16},"generated":{"line":1,"column":569}},{"source":"main.js","name":"navbar","original":{"line":43,"column":4},"generated":{"line":1,"column":572}},{"source":"main.js","name":"classList","original":{"line":43,"column":11},"generated":{"line":1,"column":574}},{"source":"main.js","name":"toggle","original":{"line":43,"column":21},"generated":{"line":1,"column":584}},{"source":"main.js","original":{"line":43,"column":28},"generated":{"line":1,"column":591}},{"source":"main.js","original":{"line":44,"column":26},"generated":{"line":1,"column":599}},{"source":"main.js","name":"navbar","original":{"line":44,"column":7},"generated":{"line":1,"column":616}},{"source":"main.js","name":"className","original":{"line":44,"column":14},"generated":{"line":1,"column":618}},{"source":"main.js","name":"document","original":{"line":45,"column":8},"generated":{"line":1,"column":629}},{"source":"main.js","name":"documentElement","original":{"line":45,"column":17},"generated":{"line":1,"column":638}},{"source":"main.js","name":"style","original":{"line":45,"column":33},"generated":{"line":1,"column":654}},{"source":"main.js","name":"overflowY","original":{"line":45,"column":39},"generated":{"line":1,"column":660}},{"source":"main.js","original":{"line":45,"column":49},"generated":{"line":1,"column":670}},{"source":"main.js","name":"navbar","original":{"line":46,"column":8},"generated":{"line":1,"column":679}},{"source":"main.js","name":"style","original":{"line":46,"column":15},"generated":{"line":1,"column":681}},{"source":"main.js","original":{"line":46,"column":21},"generated":{"line":1,"column":687}},{"source":"main.js","name":"document","original":{"line":48,"column":8},"generated":{"line":1,"column":701}},{"source":"main.js","name":"documentElement","original":{"line":48,"column":17},"generated":{"line":1,"column":710}},{"source":"main.js","name":"style","original":{"line":48,"column":33},"generated":{"line":1,"column":726}},{"source":"main.js","name":"overflowY","original":{"line":48,"column":39},"generated":{"line":1,"column":732}},{"source":"main.js","original":{"line":48,"column":49},"generated":{"line":1,"column":742}},{"source":"main.js","name":"navbar","original":{"line":49,"column":8},"generated":{"line":1,"column":751}},{"source":"main.js","name":"style","original":{"line":49,"column":15},"generated":{"line":1,"column":753}},{"source":"main.js","original":{"line":49,"column":21},"generated":{"line":1,"column":759}},{"source":"main.js","original":{"line":55,"column":0},"generated":{"line":1,"column":772}},{"source":"main.js","name":"cartToggle","original":{"line":55,"column":9},"generated":{"line":1,"column":781}},{"source":"main.js","name":"cartContainer","original":{"line":57,"column":8},"generated":{"line":1,"column":785}},{"source":"main.js","name":"classList","original":{"line":57,"column":22},"generated":{"line":1,"column":787}},{"source":"main.js","name":"contains","original":{"line":57,"column":32},"generated":{"line":1,"column":797}},{"source":"main.js","original":{"line":57,"column":41},"generated":{"line":1,"column":806}},{"source":"main.js","name":"cartContainer","original":{"line":60,"column":8},"generated":{"line":1,"column":827}},{"source":"main.js","name":"className","original":{"line":60,"column":22},"generated":{"line":1,"column":829}},{"source":"main.js","original":{"line":60,"column":32},"generated":{"line":1,"column":839}},{"source":"main.js","name":"cartContainer","original":{"line":58,"column":8},"generated":{"line":1,"column":856}},{"source":"main.js","name":"className","original":{"line":58,"column":22},"generated":{"line":1,"column":858}},{"source":"main.js","original":{"line":58,"column":32},"generated":{"line":1,"column":868}},{"source":"main.js","name":"document","original":{"line":64,"column":4},"generated":{"line":1,"column":903}},{"source":"main.js","name":"addEventListener","original":{"line":64,"column":13},"generated":{"line":1,"column":912}},{"source":"main.js","original":{"line":64,"column":30},"generated":{"line":1,"column":929}},{"source":"main.js","original":{"line":64,"column":41},"generated":{"line":1,"column":940}},{"source":"main.js","name":"cartContainer","original":{"line":65,"column":12},"generated":{"line":1,"column":951}},{"source":"main.js","name":"className","original":{"line":65,"column":26},"generated":{"line":1,"column":953}},{"source":"main.js","original":{"line":65,"column":36},"generated":{"line":1,"column":963}},{"source":"main.js","original":{"line":75,"column":0},"generated":{"line":1,"column":982}},{"source":"main.js","name":"bindElement","original":{"line":75,"column":9},"generated":{"line":1,"column":991}},{"source":"main.js","name":"element","original":{"line":75,"column":21},"generated":{"line":1,"column":993}},{"source":"main.js","name":"callback","original":{"line":75,"column":29},"generated":{"line":1,"column":995}},{"source":"main.js","name":"element","original":{"line":76,"column":4},"generated":{"line":1,"column":998}},{"source":"main.js","name":"forEach","original":{"line":76,"column":12},"generated":{"line":1,"column":1000}},{"source":"main.js","original":{"line":76,"column":20},"generated":{"line":1,"column":1008}},{"source":"main.js","name":"v","original":{"line":76,"column":21},"generated":{"line":1,"column":1017}},{"source":"main.js","name":"v","original":{"line":77,"column":8},"generated":{"line":1,"column":1020}},{"source":"main.js","name":"addEventListener","original":{"line":77,"column":10},"generated":{"line":1,"column":1022}},{"source":"main.js","original":{"line":77,"column":27},"generated":{"line":1,"column":1039}},{"source":"main.js","name":"callback","original":{"line":77,"column":35},"generated":{"line":1,"column":1047}},{"source":"main.js","original":{"line":82,"column":0},"generated":{"line":1,"column":1052}},{"source":"main.js","name":"deleteItem","original":{"line":82,"column":9},"generated":{"line":1,"column":1061}},{"source":"main.js","name":"e","original":{"line":82,"column":20},"generated":{"line":1,"column":1063}},{"source":"main.js","original":{"line":82,"column":22},"generated":{"line":1,"column":1066}},{"source":"main.js","original":{"line":82,"column":22},"generated":{"line":1,"column":1070}},{"source":"main.js","original":{"line":82,"column":22},"generated":{"line":1,"column":1072}},{"source":"main.js","original":{"line":83,"column":28},"generated":{"line":1,"column":1077}},{"source":"main.js","name":"e","original":{"line":83,"column":8},"generated":{"line":1,"column":1093}},{"source":"main.js","name":"target","original":{"line":83,"column":10},"generated":{"line":1,"column":1095}},{"source":"main.js","name":"className","original":{"line":83,"column":17},"generated":{"line":1,"column":1102}},{"source":"main.js","name":"remove","original":{"line":84,"column":17},"generated":{"line":1,"column":1112}},{"source":"main.js","name":"remove","original":{"line":84,"column":17},"generated":{"line":1,"column":1117}},{"source":"main.js","original":{"line":85,"column":34},"generated":{"line":1,"column":1126}},{"source":"main.js","name":"e","original":{"line":85,"column":14},"generated":{"line":1,"column":1142}},{"source":"main.js","name":"target","original":{"line":85,"column":16},"generated":{"line":1,"column":1144}},{"source":"main.js","name":"className","original":{"line":85,"column":23},"generated":{"line":1,"column":1151}},{"source":"main.js","name":"remove","original":{"line":86,"column":18},"generated":{"line":1,"column":1162}},{"source":"main.js","name":"remove","original":{"line":86,"column":18},"generated":{"line":1,"column":1167}},{"source":"main.js","name":"products","original":{"line":90,"column":9},"generated":{"line":1,"column":1176}},{"source":"main.js","name":"updatedProducts","original":{"line":91,"column":9},"generated":{"line":1,"column":1180}},{"source":"main.js","name":"getProductFromStorage","original":{"line":90,"column":18},"generated":{"line":1,"column":1182}},{"source":"main.js","name":"filter","original":{"line":91,"column":34},"generated":{"line":1,"column":1186}},{"source":"main.js","original":{"line":91,"column":41},"generated":{"line":1,"column":1193}},{"source":"main.js","name":"v","original":{"line":91,"column":41},"generated":{"line":1,"column":1202}},{"source":"main.js","name":"v","original":{"line":92,"column":16},"generated":{"line":1,"column":1205}},{"source":"main.js","name":"v","original":{"line":92,"column":16},"generated":{"line":1,"column":1212}},{"source":"main.js","name":"id","original":{"line":92,"column":18},"generated":{"line":1,"column":1214}},{"source":"main.js","name":"parseInt","original":{"line":92,"column":25},"generated":{"line":1,"column":1219}},{"source":"main.js","original":{"line":92,"column":34},"generated":{"line":1,"column":1228}},{"source":"main.js","name":"dataset","original":{"line":92,"column":39},"generated":{"line":1,"column":1230}},{"source":"main.js","name":"id","original":{"line":92,"column":47},"generated":{"line":1,"column":1238}},{"source":"main.js","name":"localStorage","original":{"line":95,"column":5},"generated":{"line":1,"column":1244}},{"source":"main.js","name":"setItem","original":{"line":95,"column":18},"generated":{"line":1,"column":1257}},{"source":"main.js","original":{"line":95,"column":26},"generated":{"line":1,"column":1265}},{"source":"main.js","name":"JSON","original":{"line":95,"column":37},"generated":{"line":1,"column":1276}},{"source":"main.js","name":"stringify","original":{"line":95,"column":42},"generated":{"line":1,"column":1281}},{"source":"main.js","name":"updatedProducts","original":{"line":95,"column":52},"generated":{"line":1,"column":1291}},{"source":"main.js","name":"updateCartInfo","original":{"line":96,"column":5},"generated":{"line":1,"column":1295}},{"source":"main.js","original":{"line":102,"column":0},"generated":{"line":1,"column":1299}},{"source":"main.js","name":"loadJSON","original":{"line":102,"column":9},"generated":{"line":1,"column":1308}},{"source":"main.js","name":"ax","original":{"line":103,"column":4},"generated":{"line":1,"column":1312}},{"source":"main.js","name":"get","original":{"line":103,"column":7},"generated":{"line":1,"column":1314}},{"source":"main.js","original":{"line":103,"column":11},"generated":{"line":1,"column":1318}},{"source":"main.js","name":"then","original":{"line":103,"column":30},"generated":{"line":1,"column":1337}},{"source":"main.js","original":{"line":103,"column":36},"generated":{"line":1,"column":1342}},{"source":"main.js","name":"response","original":{"line":103,"column":36},"generated":{"line":1,"column":1351}},{"source":"main.js","name":"html","original":{"line":104,"column":12},"generated":{"line":1,"column":1354}},{"source":"main.js","name":"html","original":{"line":104,"column":12},"generated":{"line":1,"column":1358}},{"source":"main.js","original":{"line":104,"column":17},"generated":{"line":1,"column":1360}},{"source":"main.js","name":"response","original":{"line":105,"column":8},"generated":{"line":1,"column":1363}},{"source":"main.js","name":"data","original":{"line":105,"column":17},"generated":{"line":1,"column":1365}},{"source":"main.js","name":"forEach","original":{"line":105,"column":22},"generated":{"line":1,"column":1370}},{"source":"main.js","original":{"line":105,"column":30},"generated":{"line":1,"column":1378}},{"source":"main.js","name":"v","original":{"line":105,"column":30},"generated":{"line":1,"column":1387}},{"source":"main.js","name":"html","original":{"line":107,"column":11},"generated":{"line":1,"column":1390}},{"source":"main.js","name":"v","original":{"line":111,"column":36},"generated":{"line":1,"column":1393}},{"source":"main.js","name":"v","original":{"line":111,"column":36},"generated":{"line":1,"column":1569}},{"source":"main.js","name":"v","original":{"line":111,"column":36},"generated":{"line":1,"column":1576}},{"source":"main.js","name":"imgSrc","original":{"line":111,"column":38},"generated":{"line":1,"column":1578}},{"source":"main.js","name":"v","original":{"line":115,"column":49},"generated":{"line":1,"column":1585}},{"source":"main.js","name":"v","original":{"line":115,"column":49},"generated":{"line":1,"column":1771}},{"source":"main.js","name":"v","original":{"line":115,"column":49},"generated":{"line":1,"column":1778}},{"source":"main.js","name":"name","original":{"line":115,"column":51},"generated":{"line":1,"column":1780}},{"source":"main.js","name":"v","original":{"line":116,"column":51},"generated":{"line":1,"column":1785}},{"source":"main.js","name":"v","original":{"line":116,"column":51},"generated":{"line":1,"column":1845}},{"source":"main.js","name":"v","original":{"line":116,"column":51},"generated":{"line":1,"column":1852}},{"source":"main.js","name":"price","original":{"line":116,"column":53},"generated":{"line":1,"column":1854}},{"source":"main.js","original":{"line":107,"column":11},"generated":{"line":1,"column":1860}},{"source":"main.js","name":"productList","original":{"line":124,"column":8},"generated":{"line":1,"column":2113}},{"source":"main.js","name":"innerHTML","original":{"line":124,"column":20},"generated":{"line":1,"column":2115}},{"source":"main.js","name":"html","original":{"line":124,"column":32},"generated":{"line":1,"column":2125}},{"source":"main.js","name":"getproductInfo","original":{"line":125,"column":8},"generated":{"line":1,"column":2127}},{"source":"main.js","name":"catch","original":{"line":126,"column":7},"generated":{"line":1,"column":2133}},{"source":"main.js","original":{"line":126,"column":14},"generated":{"line":1,"column":2139}},{"source":"main.js","name":"error","original":{"line":126,"column":14},"generated":{"line":1,"column":2148}},{"source":"main.js","name":"console","original":{"line":127,"column":8},"generated":{"line":1,"column":2151}},{"source":"main.js","name":"log","original":{"line":127,"column":16},"generated":{"line":1,"column":2159}},{"source":"main.js","name":"error","original":{"line":127,"column":20},"generated":{"line":1,"column":2163}},{"source":"main.js","name":"productList","original":{"line":128,"column":8},"generated":{"line":1,"column":2166}},{"source":"main.js","name":"parentElement","original":{"line":128,"column":20},"generated":{"line":1,"column":2168}},{"source":"main.js","name":"innerHTML","original":{"line":128,"column":34},"generated":{"line":1,"column":2182}},{"source":"main.js","original":{"line":128,"column":8},"generated":{"line":1,"column":2192}},{"source":"main.js","original":{"line":135,"column":0},"generated":{"line":1,"column":2278}},{"source":"main.js","name":"getproductInfo","original":{"line":135,"column":9},"generated":{"line":1,"column":2287}},{"source":"main.js","name":"bindElement","original":{"line":138,"column":4},"generated":{"line":1,"column":2291}},{"source":"main.js","name":"addCartBtn","original":{"line":136,"column":4},"generated":{"line":1,"column":2293}},{"source":"main.js","name":"document","original":{"line":136,"column":15},"generated":{"line":1,"column":2295}},{"source":"main.js","name":"querySelectorAll","original":{"line":136,"column":24},"generated":{"line":1,"column":2304}},{"source":"main.js","original":{"line":136,"column":41},"generated":{"line":1,"column":2321}},{"source":"main.js","original":{"line":138,"column":27},"generated":{"line":1,"column":2334}},{"source":"main.js","name":"product","original":{"line":139,"column":11},"generated":{"line":1,"column":2345}},{"source":"main.js","name":"product","original":{"line":139,"column":11},"generated":{"line":1,"column":2349}},{"source":"main.js","original":{"line":139,"column":19},"generated":{"line":1,"column":2351}},{"source":"main.js","name":"parentElement","original":{"line":139,"column":24},"generated":{"line":1,"column":2356}},{"source":"main.js","name":"parentElement","original":{"line":139,"column":38},"generated":{"line":1,"column":2370}},{"source":"main.js","name":"productInfo","original":{"line":140,"column":11},"generated":{"line":1,"column":2384}},{"source":"main.js","original":{"line":140,"column":23},"generated":{"line":1,"column":2386}},{"source":"main.js","name":"id","original":{"line":141,"column":11},"generated":{"line":1,"column":2387}},{"source":"main.js","name":"cartItemID","original":{"line":141,"column":14},"generated":{"line":1,"column":2390}},{"source":"main.js","name":"imgSrc","original":{"line":142,"column":11},"generated":{"line":1,"column":2392}},{"source":"main.js","name":"product","original":{"line":142,"column":18},"generated":{"line":1,"column":2399}},{"source":"main.js","name":"querySelector","original":{"line":142,"column":26},"generated":{"line":1,"column":2401}},{"source":"main.js","original":{"line":142,"column":40},"generated":{"line":1,"column":2415}},{"source":"main.js","name":"src","original":{"line":142,"column":57},"generated":{"line":1,"column":2432}},{"source":"main.js","name":"name","original":{"line":143,"column":11},"generated":{"line":1,"column":2436}},{"source":"main.js","name":"product","original":{"line":143,"column":16},"generated":{"line":1,"column":2441}},{"source":"main.js","name":"querySelector","original":{"line":143,"column":24},"generated":{"line":1,"column":2443}},{"source":"main.js","original":{"line":143,"column":38},"generated":{"line":1,"column":2457}},{"source":"main.js","name":"textContent","original":{"line":143,"column":53},"generated":{"line":1,"column":2472}},{"source":"main.js","name":"price","original":{"line":144,"column":11},"generated":{"line":1,"column":2484}},{"source":"main.js","name":"product","original":{"line":144,"column":17},"generated":{"line":1,"column":2490}},{"source":"main.js","name":"querySelector","original":{"line":144,"column":25},"generated":{"line":1,"column":2492}},{"source":"main.js","original":{"line":144,"column":39},"generated":{"line":1,"column":2506}},{"source":"main.js","name":"textContent","original":{"line":144,"column":54},"generated":{"line":1,"column":2521}},{"source":"main.js","name":"cartItemID","original":{"line":146,"column":7},"generated":{"line":1,"column":2534}},{"source":"main.js","name":"createCartItem","original":{"line":147,"column":7},"generated":{"line":1,"column":2538}},{"source":"main.js","name":"productInfo","original":{"line":147,"column":22},"generated":{"line":1,"column":2540}},{"source":"main.js","name":"saveProductInStorage","original":{"line":148,"column":7},"generated":{"line":1,"column":2543}},{"source":"main.js","name":"productInfo","original":{"line":148,"column":28},"generated":{"line":1,"column":2545}},{"source":"main.js","original":{"line":154,"column":0},"generated":{"line":1,"column":2550}},{"source":"main.js","name":"createCartItem","original":{"line":154,"column":9},"generated":{"line":1,"column":2559}},{"source":"main.js","name":"product","original":{"line":154,"column":24},"generated":{"line":1,"column":2561}},{"source":"main.js","name":"cartItem","original":{"line":155,"column":4},"generated":{"line":1,"column":2565}},{"source":"main.js","name":"document","original":{"line":155,"column":13},"generated":{"line":1,"column":2567}},{"source":"main.js","name":"createElement","original":{"line":155,"column":22},"generated":{"line":1,"column":2576}},{"source":"main.js","original":{"line":155,"column":36},"generated":{"line":1,"column":2590}},{"source":"main.js","name":"classList","original":{"line":156,"column":13},"generated":{"line":1,"column":2598}},{"source":"main.js","name":"add","original":{"line":156,"column":23},"generated":{"line":1,"column":2608}},{"source":"main.js","original":{"line":156,"column":27},"generated":{"line":1,"column":2612}},{"source":"main.js","name":"cartItem","original":{"line":157,"column":4},"generated":{"line":1,"column":2625}},{"source":"main.js","name":"setAttribute","original":{"line":157,"column":13},"generated":{"line":1,"column":2627}},{"source":"main.js","original":{"line":157,"column":26},"generated":{"line":1,"column":2640}},{"source":"main.js","name":"product","original":{"line":157,"column":39},"generated":{"line":1,"column":2650}},{"source":"main.js","name":"product","original":{"line":157,"column":39},"generated":{"line":1,"column":2653}},{"source":"main.js","name":"product","original":{"line":157,"column":39},"generated":{"line":1,"column":2660}},{"source":"main.js","name":"id","original":{"line":157,"column":47},"generated":{"line":1,"column":2662}},{"source":"main.js","name":"cartItem","original":{"line":158,"column":4},"generated":{"line":1,"column":2667}},{"source":"main.js","name":"innerHTML","original":{"line":158,"column":13},"generated":{"line":1,"column":2669}},{"source":"main.js","name":"product","original":{"line":159,"column":16},"generated":{"line":1,"column":2679}},{"source":"main.js","name":"product","original":{"line":159,"column":16},"generated":{"line":1,"column":2698}},{"source":"main.js","name":"product","original":{"line":159,"column":16},"generated":{"line":1,"column":2705}},{"source":"main.js","name":"imgSrc","original":{"line":159,"column":24},"generated":{"line":1,"column":2707}},{"source":"main.js","name":"product","original":{"line":161,"column":37},"generated":{"line":1,"column":2714}},{"source":"main.js","name":"product","original":{"line":161,"column":37},"generated":{"line":1,"column":2816}},{"source":"main.js","name":"product","original":{"line":161,"column":37},"generated":{"line":1,"column":2823}},{"source":"main.js","name":"name","original":{"line":161,"column":45},"generated":{"line":1,"column":2825}},{"source":"main.js","name":"product","original":{"line":162,"column":40},"generated":{"line":1,"column":2830}},{"source":"main.js","name":"product","original":{"line":162,"column":40},"generated":{"line":1,"column":2879}},{"source":"main.js","name":"product","original":{"line":162,"column":40},"generated":{"line":1,"column":2886}},{"source":"main.js","name":"price","original":{"line":162,"column":48},"generated":{"line":1,"column":2888}},{"source":"main.js","original":{"line":158,"column":4},"generated":{"line":1,"column":2894}},{"source":"main.js","name":"cartList","original":{"line":169,"column":4},"generated":{"line":1,"column":3034}},{"source":"main.js","name":"appendChild","original":{"line":169,"column":13},"generated":{"line":1,"column":3036}},{"source":"main.js","name":"cartItem","original":{"line":169,"column":25},"generated":{"line":1,"column":3048}},{"source":"main.js","name":"bindElement","original":{"line":172,"column":4},"generated":{"line":1,"column":3051}},{"source":"main.js","name":"relcartItem","original":{"line":171,"column":4},"generated":{"line":1,"column":3053}},{"source":"main.js","name":"document","original":{"line":171,"column":16},"generated":{"line":1,"column":3055}},{"source":"main.js","name":"querySelectorAll","original":{"line":171,"column":25},"generated":{"line":1,"column":3064}},{"source":"main.js","original":{"line":171,"column":42},"generated":{"line":1,"column":3081}},{"source":"main.js","name":"deleteItem","original":{"line":172,"column":28},"generated":{"line":1,"column":3095}},{"source":"main.js","name":"console","original":{"line":173,"column":4},"generated":{"line":1,"column":3098}},{"source":"main.js","name":"log","original":{"line":173,"column":12},"generated":{"line":1,"column":3106}},{"source":"main.js","name":"cartItem","original":{"line":173,"column":16},"generated":{"line":1,"column":3110}},{"source":"main.js","original":{"line":177,"column":0},"generated":{"line":1,"column":3113}},{"source":"main.js","name":"saveProductInStorage","original":{"line":177,"column":10},"generated":{"line":1,"column":3122}},{"source":"main.js","name":"item","original":{"line":177,"column":31},"generated":{"line":1,"column":3124}},{"source":"main.js","name":"products","original":{"line":178,"column":8},"generated":{"line":1,"column":3127}},{"source":"main.js","name":"products","original":{"line":178,"column":8},"generated":{"line":1,"column":3131}},{"source":"main.js","name":"getProductFromStorage","original":{"line":178,"column":17},"generated":{"line":1,"column":3133}},{"source":"main.js","name":"products","original":{"line":179,"column":4},"generated":{"line":1,"column":3137}},{"source":"main.js","name":"push","original":{"line":179,"column":13},"generated":{"line":1,"column":3139}},{"source":"main.js","name":"item","original":{"line":179,"column":18},"generated":{"line":1,"column":3144}},{"source":"main.js","name":"localStorage","original":{"line":180,"column":4},"generated":{"line":1,"column":3147}},{"source":"main.js","name":"setItem","original":{"line":180,"column":17},"generated":{"line":1,"column":3160}},{"source":"main.js","original":{"line":180,"column":25},"generated":{"line":1,"column":3168}},{"source":"main.js","name":"JSON","original":{"line":180,"column":36},"generated":{"line":1,"column":3179}},{"source":"main.js","name":"stringify","original":{"line":180,"column":41},"generated":{"line":1,"column":3184}},{"source":"main.js","name":"products","original":{"line":180,"column":51},"generated":{"line":1,"column":3194}},{"source":"main.js","name":"updateCartInfo","original":{"line":181,"column":4},"generated":{"line":1,"column":3198}},{"source":"main.js","original":{"line":186,"column":0},"generated":{"line":1,"column":3202}},{"source":"main.js","name":"updateCartInfo","original":{"line":186,"column":9},"generated":{"line":1,"column":3211}},{"source":"main.js","name":"cartInfo","original":{"line":187,"column":8},"generated":{"line":1,"column":3215}},{"source":"main.js","name":"cartInfo","original":{"line":187,"column":8},"generated":{"line":1,"column":3219}},{"source":"main.js","name":"findCartInfo","original":{"line":187,"column":17},"generated":{"line":1,"column":3221}},{"source":"main.js","name":"cartCountInfo","original":{"line":188,"column":4},"generated":{"line":1,"column":3225}},{"source":"main.js","name":"innerHTML","original":{"line":188,"column":18},"generated":{"line":1,"column":3227}},{"source":"main.js","name":"cartInfo","original":{"line":188,"column":28},"generated":{"line":1,"column":3237}},{"source":"main.js","name":"productCount","original":{"line":188,"column":37},"generated":{"line":1,"column":3239}},{"source":"main.js","name":"cartTotalValue","original":{"line":189,"column":4},"generated":{"line":1,"column":3252}},{"source":"main.js","name":"innerHTML","original":{"line":189,"column":19},"generated":{"line":1,"column":3254}},{"source":"main.js","name":"cartInfo","original":{"line":189,"column":29},"generated":{"line":1,"column":3264}},{"source":"main.js","name":"total","original":{"line":189,"column":38},"generated":{"line":1,"column":3266}},{"source":"main.js","original":{"line":193,"column":0},"generated":{"line":1,"column":3272}},{"source":"main.js","name":"getProductFromStorage","original":{"line":193,"column":9},"generated":{"line":1,"column":3281}},{"source":"main.js","name":"localStorage","original":{"line":194,"column":11},"generated":{"line":1,"column":3285}},{"source":"main.js","name":"localStorage","original":{"line":194,"column":11},"generated":{"line":1,"column":3292}},{"source":"main.js","name":"getItem","original":{"line":194,"column":24},"generated":{"line":1,"column":3305}},{"source":"main.js","original":{"line":194,"column":32},"generated":{"line":1,"column":3313}},{"source":"main.js","name":"JSON","original":{"line":194,"column":45},"generated":{"line":1,"column":3325}},{"source":"main.js","name":"parse","original":{"line":194,"column":50},"generated":{"line":1,"column":3330}},{"source":"main.js","name":"localStorage","original":{"line":194,"column":56},"generated":{"line":1,"column":3336}},{"source":"main.js","name":"getItem","original":{"line":194,"column":69},"generated":{"line":1,"column":3349}},{"source":"main.js","original":{"line":194,"column":77},"generated":{"line":1,"column":3357}},{"source":"main.js","original":{"line":194,"column":91},"generated":{"line":1,"column":3370}},{"source":"main.js","original":{"line":198,"column":0},"generated":{"line":1,"column":3373}},{"source":"main.js","name":"findCartInfo","original":{"line":198,"column":9},"generated":{"line":1,"column":3382}},{"source":"main.js","name":"products","original":{"line":199,"column":8},"generated":{"line":1,"column":3386}},{"source":"main.js","name":"products","original":{"line":199,"column":8},"generated":{"line":1,"column":3390}},{"source":"main.js","name":"getProductFromStorage","original":{"line":199,"column":17},"generated":{"line":1,"column":3392}},{"source":"main.js","original":{"line":205,"column":10},"generated":{"line":1,"column":3396}},{"source":"main.js","original":{"line":205,"column":10},"generated":{"line":1,"column":3402}},{"source":"main.js","name":"total","original":{"line":206,"column":8},"generated":{"line":1,"column":3403}},{"source":"main.js","name":"products","original":{"line":200,"column":14},"generated":{"line":1,"column":3409}},{"source":"main.js","name":"reduce","original":{"line":200,"column":23},"generated":{"line":1,"column":3411}},{"source":"main.js","original":{"line":200,"column":30},"generated":{"line":1,"column":3418}},{"source":"main.js","name":"pre","original":{"line":200,"column":31},"generated":{"line":1,"column":3427}},{"source":"main.js","name":"cur","original":{"line":200,"column":35},"generated":{"line":1,"column":3429}},{"source":"main.js","name":"pre","original":{"line":202,"column":19},"generated":{"line":1,"column":3432}},{"source":"main.js","name":"pre","original":{"line":202,"column":19},"generated":{"line":1,"column":3439}},{"source":"main.js","name":"parseInt","original":{"line":201,"column":18},"generated":{"line":1,"column":3441}},{"source":"main.js","name":"cur","original":{"line":201,"column":27},"generated":{"line":1,"column":3450}},{"source":"main.js","name":"price","original":{"line":201,"column":31},"generated":{"line":1,"column":3452}},{"source":"main.js","name":"substring","original":{"line":201,"column":37},"generated":{"line":1,"column":3458}},{"source":"main.js","original":{"line":201,"column":47},"generated":{"line":1,"column":3468}},{"source":"main.js","original":{"line":203,"column":6},"generated":{"line":1,"column":3473}},{"source":"main.js","name":"productCount","original":{"line":207,"column":8},"generated":{"line":1,"column":3476}},{"source":"main.js","name":"products","original":{"line":207,"column":21},"generated":{"line":1,"column":3489}},{"source":"main.js","name":"length","original":{"line":207,"column":30},"generated":{"line":1,"column":3491}},{"source":"main.js","original":{"line":214,"column":0},"generated":{"line":1,"column":3499}},{"source":"main.js","name":"loadCart","original":{"line":214,"column":9},"generated":{"line":1,"column":3508}},{"source":"main.js","name":"products","original":{"line":215,"column":8},"generated":{"line":1,"column":3512}},{"source":"main.js","name":"products","original":{"line":215,"column":8},"generated":{"line":1,"column":3516}},{"source":"main.js","name":"getProductFromStorage","original":{"line":215,"column":17},"generated":{"line":1,"column":3518}},{"source":"main.js","name":"products","original":{"line":216,"column":7},"generated":{"line":1,"column":3522}},{"source":"main.js","name":"length","original":{"line":216,"column":16},"generated":{"line":1,"column":3524}},{"source":"main.js","original":{"line":216,"column":23},"generated":{"line":1,"column":3531}},{"source":"main.js","name":"cartItemID","original":{"line":217,"column":8},"generated":{"line":1,"column":3533}},{"source":"main.js","original":{"line":217,"column":19},"generated":{"line":1,"column":3535}},{"source":"main.js","name":"cartItemID","original":{"line":219,"column":8},"generated":{"line":1,"column":3538}},{"source":"main.js","name":"products","original":{"line":219,"column":19},"generated":{"line":1,"column":3540}},{"source":"main.js","name":"products","original":{"line":219,"column":28},"generated":{"line":1,"column":3542}},{"source":"main.js","name":"length","original":{"line":219,"column":37},"generated":{"line":1,"column":3544}},{"source":"main.js","original":{"line":219,"column":44},"generated":{"line":1,"column":3551}},{"source":"main.js","name":"id","original":{"line":219,"column":47},"generated":{"line":1,"column":3554}},{"source":"main.js","name":"cartItemID","original":{"line":220,"column":8},"generated":{"line":1,"column":3557}},{"source":"main.js","name":"products","original":{"line":222,"column":4},"generated":{"line":1,"column":3562}},{"source":"main.js","name":"forEach","original":{"line":222,"column":13},"generated":{"line":1,"column":3564}},{"source":"main.js","original":{"line":222,"column":21},"generated":{"line":1,"column":3572}},{"source":"main.js","name":"v","original":{"line":222,"column":21},"generated":{"line":1,"column":3581}},{"source":"main.js","name":"createCartItem","original":{"line":222,"column":25},"generated":{"line":1,"column":3584}},{"source":"main.js","name":"createCartItem","original":{"line":222,"column":25},"generated":{"line":1,"column":3591}},{"source":"main.js","name":"v","original":{"line":222,"column":40},"generated":{"line":1,"column":3593}},{"source":"main.js","name":"updateCartInfo","original":{"line":224,"column":4},"generated":{"line":1,"column":3598}},{"source":"main.js","name":"window","original":{"line":29,"column":4},"generated":{"line":1,"column":3602}},{"source":"main.js","name":"addEventListener","original":{"line":29,"column":11},"generated":{"line":1,"column":3609}},{"source":"main.js","original":{"line":29,"column":28},"generated":{"line":1,"column":3626}},{"source":"main.js","original":{"line":29,"column":47},"generated":{"line":1,"column":3645}},{"source":"main.js","name":"loadJSON","original":{"line":30,"column":8},"generated":{"line":1,"column":3656}},{"source":"main.js","name":"loadCart","original":{"line":31,"column":8},"generated":{"line":1,"column":3660}},{"source":"main.js","name":"navbarBtn","original":{"line":34,"column":4},"generated":{"line":1,"column":3666}},{"source":"main.js","name":"addEventListener","original":{"line":34,"column":14},"generated":{"line":1,"column":3668}},{"source":"main.js","original":{"line":34,"column":31},"generated":{"line":1,"column":3685}},{"source":"main.js","name":"navbarToggle","original":{"line":34,"column":39},"generated":{"line":1,"column":3693}},{"source":"main.js","name":"cartIcon","original":{"line":35,"column":4},"generated":{"line":1,"column":3696}},{"source":"main.js","name":"addEventListener","original":{"line":35,"column":13},"generated":{"line":1,"column":3698}},{"source":"main.js","original":{"line":35,"column":30},"generated":{"line":1,"column":3715}},{"source":"main.js","name":"cartToggle","original":{"line":35,"column":38},"generated":{"line":1,"column":3723}}],"sources":{"main.js":"import 'regenerator-runtime/runtime';\r\nimport axios  from \"./node_modules/axios\";\r\n \r\n\r\n \r\n //變數命名\r\n let  addCartBtn;\r\n let relcartItem;\r\n let cartItem; \r\n let  cartItemID=1;\r\n const navbarBtn=document.querySelector('.navbar-btn');\r\n const navbar=document.querySelector('.nav-bar');\r\n const productList=document.querySelector(\".product-list\")\r\n const cartIcon=document.querySelector('.cart-icon');\r\n const cartContainer=document.querySelector('.cart-container');\r\n const cartCountInfo=document.querySelector('#cart-count-info');\r\n const cartTotalValue=document.querySelector('#cart-total-value');\r\n const cartList=document.querySelector('.cart-list')\r\n\r\n const ax = axios.create({\r\n    baseURL: 'http://127.0.0.1:3300'\r\n  });\r\n \r\n \r\n \r\n\r\n //監聽響應\r\n(function(){\r\n    window.addEventListener('DOMContentLoaded',()=>{\r\n        loadJSON();\r\n        loadCart();\r\n    })\r\n    \r\n    navbarBtn.addEventListener('click',navbarToggle);\r\n    cartIcon.addEventListener('click',cartToggle)\r\n}())\r\n \r\n\r\n \r\n//切換navbar\r\nfunction navbarToggle(){   \r\n    console.log(addCartBtn);\r\n    navbar.classList.toggle('show');\r\n    if(navbar.className===\"nav-bar show\"){\r\n        document.documentElement.style.overflowY=\"hidden\" \r\n        navbar.style=\"z-index:3\";\r\n        }else{\r\n        document.documentElement.style.overflowY=\"scroll\"\r\n        navbar.style=\"z-index:0\";\r\n        }\r\n   \r\n    }\r\n\r\n//購物車內容切換\r\nfunction cartToggle(){ \r\n  \r\n    if(!cartContainer.classList.contains('showCartContainer')){\r\n        cartContainer.className=\"cart-container showCartContainer\";\r\n    }else{\r\n        cartContainer.className=\"cart-container\";\r\n    }\r\n\r\n     //雙擊消除購物車清單\r\n    document.addEventListener('dblclick',function(){\r\n            cartContainer.className=\"cart-container\";\r\n        })\r\n    \r\n}\r\n   \r\n        \r\n  \r\n\r\n   \r\n//遍歷監聽\r\nfunction bindElement(element,callback){\r\n    element.forEach((v)=>{\r\n        v.addEventListener('click',callback);\r\n    })\r\n}\r\n\r\n//刪除Item\r\nfunction deleteItem(e){\r\n     if(e.target.className==\"cart-del-btn\"){\r\n            this.remove();\r\n     }else if(e.target.className==\"fas fa-times\"){\r\n             this.remove();\r\n     }\r\n     \r\n\r\n     let products=getProductFromStorage();\r\n     let updatedProducts=products.filter(v =>{\r\n         return v.id !== parseInt(this.dataset.id);\r\n     })\r\n\r\n     localStorage.setItem('products',JSON.stringify(updatedProducts));\r\n     updateCartInfo();\r\n    \r\n}\r\n\r\n\r\n//讀取JSON\r\nfunction loadJSON(){\r\n    ax.get('/furniture.json').then( response=>{ \r\n        let html='';\r\n        response.data.forEach(v=>{\r\n\r\n           html += `\r\n                 <div class=\"col-md-6  col-xl-4  col-xxl-3 pt-2\">\r\n                        <div class=\"card\">\r\n                        \r\n                        <img src=\"${v.imgSrc}\" class=\"card-img-top\" alt=\"...\">\r\n                        \r\n                        <div class=\"card-body\">\r\n                       \r\n                        <h4 class=\"card-title\">${v.name}</h4>\r\n                        <p class=\"card-price\">TW$${v.price}</p>\r\n                        \r\n                        <button href=\"#\" class=\"btn btn-primary text-white cart-btn\">Add Cart</button>\r\n                            </div>\r\n                    </div>\r\n                    </div>\r\n                   `;\r\n        })\r\n        productList.innerHTML = html;\r\n        getproductInfo();\r\n    }).catch( error=>{\r\n        console.log(error);\r\n        productList.parentElement.innerHTML=`<h1 style=\"color:red;font-size:2rem; text-align:center\">remember open server</h1>`\r\n    })\r\n\r\n}\r\n\r\n\r\n//增加購物清單\r\nfunction getproductInfo(){\r\n    addCartBtn=document.querySelectorAll('.cart-btn')\r\n\r\n    bindElement(addCartBtn,function(){\r\n       let product=this.parentElement.parentElement\r\n       let productInfo={\r\n           id:cartItemID,\r\n           imgSrc:product.querySelector('.card-img-top').src,\r\n           name:product.querySelector('.card-title').textContent,\r\n           price:product.querySelector('.card-price').textContent\r\n       }\r\n       cartItemID++;\r\n       createCartItem(productInfo);\r\n       saveProductInStorage(productInfo);\r\n    });\r\n}\r\n   \r\n\r\n//創建購物車清單列表\r\nfunction createCartItem(product){\r\n    cartItem=document.createElement('div');\r\n    cartItem.classList.add('cart-item');\r\n    cartItem.setAttribute('data-id',`${product.id}`);\r\n    cartItem.innerHTML=`\r\n    <img src=\"${product.imgSrc}\" alt=\"\" class=\"img-fluid\">\r\n    <div class=\"cart-item-info\">\r\n        <h3 class=\"cart-item-name\">${product.name}</h3>\r\n        <span class=\"cart-item-price\">${product.price}</span>\r\n    </div>\r\n   \r\n    <button type = \"button\" class = \"cart-del-btn\">\r\n      <i class = \"fas fa-times\"></i>\r\n    </button>\r\n    `\r\n    cartList.appendChild(cartItem);\r\n\r\n    relcartItem=document.querySelectorAll('.cart-item')\r\n    bindElement(relcartItem,deleteItem);\r\n    console.log(cartItem);\r\n}\r\n\r\n//LocalStorage SetItem儲存資料\r\nfunction  saveProductInStorage(item){\r\n    let products=getProductFromStorage();\r\n    products.push(item)\r\n    localStorage.setItem('products',JSON.stringify(products));\r\n    updateCartInfo();\r\n}\r\n\r\n\r\n//更新數量和總價錢\r\nfunction updateCartInfo(){\r\n    let cartInfo=findCartInfo();\r\n    cartCountInfo.innerHTML=cartInfo.productCount;\r\n    cartTotalValue.innerHTML=cartInfo.total;\r\n}\r\n\r\n//LocalStorage GetItem取得資料\r\nfunction getProductFromStorage(){\r\n    return localStorage.getItem('products')? JSON.parse(localStorage.getItem('products')): [];\r\n}\r\n\r\n//取的總共價錢和數量\r\nfunction findCartInfo(){\r\n    let products=getProductFromStorage();\r\n    let total=products.reduce((pre,cur)=>{\r\n        let price=parseInt(cur.price.substring(3));\r\n            return pre+=price;\r\n    },0);\r\n\r\n    return{\r\n        total:total,\r\n        productCount:products.length\r\n    }\r\n}\r\n     \r\n\r\n\r\n//創建購物車Item 更新購物車資料\r\nfunction loadCart(){\r\n    let products=getProductFromStorage();\r\n    if(products.length<1){\r\n        cartItemID=1;\r\n    }else{\r\n        cartItemID=products[products.length-1].id;\r\n        cartItemID++\r\n    }\r\n    products.forEach(v=> createCartItem(v));\r\n\r\n    updateCartInfo();\r\n}\r\n\r\n"},"lineCount":null}},"error":null,"hash":"d6b3584bde40a72f0ba4ac5601e0c12e","cacheData":{"env":{}}}